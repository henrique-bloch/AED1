#include <stdio.h>
#include <stdlib.h>

#define INF 0x3f3f3f3f

typedef struct E {
    int para, p;
    struct E *prox;
} E;

typedef struct {
    int no, custo, par;
} Item;

E *adj[10005];
int d[10005][2], vis[10005][2], tam;
Item heap[200005];

void push(int no, int c, int p) {
    int i = ++tam;
    while (i > 1 && c < heap[i/2].custo) {
        heap[i] = heap[i/2];
        i /= 2;
    }
    heap[i].no = no; heap[i].custo = c; heap[i].par = p;
}

Item pop() {
    Item r = heap[1];
    Item u = heap[tam--];
    int i = 1, f;
    while (i * 2 <= tam) {
        f = i * 2;
        if (f < tam && heap[f+1].custo < heap[f].custo) f++;
        if (u.custo <= heap[f].custo) break;
        heap[i] = heap[f];
        i = f;
    }
    heap[i] = u;
    return r;
}

void add(int u, int v, int p) {
    E *e = malloc(sizeof(E));
    e->para = v; e->p = p; e->prox = adj[u];
    adj[u] = e;
}

int main() {
    int c, v, a, b, g;
    while (scanf("%d %d", &c, &v) != EOF) {
        for (int i = 1; i <= c; i++) {
            adj[i] = NULL;
            d[i][0] = d[i][1] = INF;
            vis[i][0] = vis[i][1] = 0;
        }
        tam = 0;
        while (v--) {
            scanf("%d %d %d", &a, &b, &g);
            add(a, b, g); add(b, a, g);
        }
        d[1][0] = 0; push(1, 0, 0);
        while (tam > 0) {
            Item h = pop();
            if (vis[h.no][h.par]) continue;
            vis[h.no][h.par] = 1;
            for (E *e = adj[h.no]; e; e = e->prox) {
                int np = h.par ^ 1;
                if (d[h.no][h.par] + e->p < d[e->para][np]) {
                    d[e->para][np] = d[h.no][h.par] + e->p;
                    push(e->para, d[e->para][np], np);
                }
            }
        }
        if (d[c][0] == INF) printf("-1\n");
        else printf("%d\n", d[c][0]);
    }
    return 0;
}
